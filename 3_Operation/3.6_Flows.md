# 3.6 流（Flows）

流是session中用于传输一系列用户消息的单向通信通道。session的两端都可以有0个或多个指向对方的发送流。每个发送流都有在另一端有一个对应的接收流。

## 3.6.1 概述

### 3.6.1.1 标识（Identity）

session的多个流之间是通过流标识符（flow identifier）来区分的。session的每一端都可以独立为流选择流标识符，即便两端选择了类似的流标识符，也并不意味它们之间有关联关系。发送方 *可能会* 给任意一个流选择任意一个流标识符，因此流的接收方 *禁止* 基于流标识符来推测任何语义、角色或命名。规范中没有将任何流标识符规定为 *保留的（reversed）* ，也没有任何约定俗成的流标识符。

流的双向关联关系会在建立流的时候由`Return Flow Association`选项（参见 [2.3.11.1.2]）指明。一个端节点可以指定一个新的发送流（sending flow）来响应来自session另一端的接收流（receiving flow）。发送流 *必须* 最多只能与一个接收流建立关联关系；接收流则可以与任意个发送流建立关联关系。在整个发送流的生命周期内，`Return Flow Association`（如果存在的话）是固定不变的。注意，关联关系中的一个流关系并不自动关闭与之关联的其他流，这其中的例外情况参见 [3.6.3.1][3]中的描述。

流可以用任何用户元数据来命名。在本规范中，除了编码后的大小（参见 [2.3.11.1.1.][2]）之外，并没有对用户元数据做任何有关编码、语法或语义的规定；用户元数据由应用程序管理。在流的整个生命周期内，用户元数据是不变的。

### 3.6.1.2 消息与序列




[1]:    ../2_Syntax/2.3_Chunks.md#2.3.11.1.2
[2]:    ../2_Syntax/2.3_Chunks.md#2.3.11.1.1
[3]:    #3.6.3.1
